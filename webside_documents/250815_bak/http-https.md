---
title: HTTP三次握手与HTTPS加密通信
abbrlink: 31392
date: 2024-05-31 20:47:02
---
## 本篇文章主要叙述理论概念

### 两种方式的相同点：都是应用层协议，用于在客户端和服务器之间传输数据

### HTTP三次握手的过程
- 当客户机想要与服务器建立HTTP连接时，它会发送一个带有SYN（同步）标志的数据包到服务器
- 服务器收到这个数据包后，回复一个带有SYN/ACK（同步/确认）标志的数据包给客户端
- 客户机再次回复一个带有ACK（确认）标志的数据包给服务器，完成连接的建立
#### 在实际抓包过程中客户机与服务器成功握手会抓到4种包，分别是 `发` → `收回` → `收回` → `确认回`
这个过程中，客户机和服务器实际共进行了三次通信，所以称为"三次握手"

HTTP协议每次传输数据都要进行三次握手，并且基本上基于明文传输，对资源利用较高安全性较差

### HTTPS:HTTP基础上使用了SSL/TLS协议进行加密通信
- 客户机向服务器发送一个加密协议版本的请求，这个请求是明文的
- 服务器回复一个带有数字证书的数据包给客户机，该证书由受信任的证书颁发机构签名，用于验证服务器的身份
- 客户机收到证书后，会验证其有效性。如果证书有效，则生成一个随机的对称密钥（称为会话密钥）
- 客户机使用服务器的公钥对会话密钥进行加密，并将其发送给服务器
- 服务器收到加密后的会话密钥后，使用私钥进行解密，获取会话密钥
- 客户机和服务器都拥有相同的会话密钥，用于加密和解密后续的通信内容

#### 通过以上过程，HTTPS握手确保了通信双方之间的身份验证和数据传输的机密性
相比于HTTP，HTTPS的主要区别在于引入了SSL/TLS协议，它使用非对称加密和对称加密相结合的方式，确保数据传输的安全性


### 底层技术相关概念中

##### SSL（Secure Sockets Layer，安全套接层）和TLS（Transport Layer Security，传输层安全）是用于加密通信的协议。SSL是TLS的前身，随着时间的推移，TLS成为了更加安全和广泛使用的标准。SSL/TLS协议使用了非对称加密和对称加密两种方式来保护数据。非对称加密使用公钥和私钥对数据进行加密和解密，公钥由证书颁发机构签名，私钥只有服务器持有。对称加密使用相同的密钥对数据进行加密和解密，这个密钥在握手过程中生成，并在会话期间使用

以上便是本篇文章的所有内容，感谢阅读